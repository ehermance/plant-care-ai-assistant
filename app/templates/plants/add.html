{% extends "base.html" %}

{% block title %}Add Plant - Plant Care AI Assistant - PlantCareAI{% endblock %}
{% block description %}Add a new plant to your collection.{% endblock %}

{% block content %}
<!-- Page Header -->
<div class="mb-8">
  <h1 class="text-3xl sm:text-4xl font-bold text-slate-900 dark:text-slate-100 mb-2">
    Add New Plant <span class="inline-block" aria-hidden="true">ðŸŒ±</span>
  </h1>
  <p class="text-lg text-slate-600 dark:text-slate-400">
    Tell us about your new plant friend
  </p>
</div>

<!-- Form -->
<div class="max-w-2xl">
  <form method="POST" action="{{ url_for('plants.add') }}" enctype="multipart/form-data" class="card">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

    <!-- Plant Name -->
    <div class="mb-6">
      <label for="name" class="label label-required">
        Plant Name
      </label>
      <input
        type="text"
        id="name"
        name="name"
        class="input"
        required
        placeholder="e.g., Snake Plant, Monstera"
        maxlength="100"
        aria-describedby="name-help"
      />
      <p id="name-help" class="help-text">What kind of plant is this?</p>
    </div>

    <!-- Nickname -->
    <div class="mb-6">
      <label for="nickname" class="label">
        Nickname <span class="text-sm font-normal text-slate-500 dark:text-slate-400">(Optional)</span>
      </label>
      <input
        type="text"
        id="nickname"
        name="nickname"
        class="input"
        placeholder="e.g., Planty McPlantface"
        maxlength="50"
        aria-describedby="nickname-help"
      />
      <p id="nickname-help" class="help-text">Give your plant a fun name!</p>
    </div>

    <!-- Species -->
    <div class="mb-6">
      <label for="species" class="label">
        Species/Variety <span class="text-sm font-normal text-slate-500 dark:text-slate-400">(Optional)</span>
      </label>
      <input
        type="text"
        id="species"
        name="species"
        class="input"
        placeholder="e.g., Sansevieria trifasciata"
        maxlength="100"
      />
    </div>

    <!-- Location & Light (Two Columns) -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6">
      <!-- Location -->
      <div>
        <label for="location" class="label">
          Where is the plant?
        </label>
        <select id="location" name="location" class="input">
          <option value="">Select location</option>
          <option value="indoor_potted">Indoor (potted)</option>
          <option value="outdoor_potted">Outdoor (potted)</option>
          <option value="outdoor_bed">Outdoor (in-ground bed)</option>
          <option value="greenhouse">Greenhouse</option>
          <option value="office">Office</option>
        </select>
      </div>

      <!-- Light Conditions -->
      <div>
        <label for="light" class="label">
          Light Conditions
        </label>
        <select id="light" name="light" class="input">
          <option value="">Select light level</option>
          <option value="low">Low light (north-facing, no direct sun)</option>
          <option value="medium">Medium light (east/west-facing, some direct sun)</option>
          <option value="bright">Bright indirect light</option>
          <option value="direct">Direct sunlight (south-facing)</option>
        </select>
      </div>
    </div>

    <!-- Care Notes -->
    <div class="mb-6">
      <label for="notes" class="label">
        Care Notes <span class="text-sm font-normal text-slate-500 dark:text-slate-400">(Optional)</span>
      </label>
      <textarea
        id="notes"
        name="notes"
        class="input"
        rows="4"
        placeholder="Any special care instructions, watering schedule, or observations..."
        maxlength="500"
      ></textarea>
    </div>

    <!-- Photo Upload -->
    <div class="mb-8">
      <label for="photo" class="label">
        Photo <span class="text-sm font-normal text-slate-500 dark:text-slate-400">(Optional)</span>
      </label>
      <input
        type="file"
        id="photo"
        name="photo"
        class="input file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-emerald-50 file:text-emerald-700 hover:file:bg-emerald-100 dark:file:bg-emerald-900/30 dark:file:text-emerald-400 dark:hover:file:bg-emerald-900/50 file:cursor-pointer"
        accept="image/png,image/jpeg,image/jpg,image/gif,image/webp"
        aria-describedby="photo-help"
      />
      <p id="photo-help" class="help-text">Max 5MB. Supported: JPG, PNG, GIF, WebP</p>
    </div>

    <!-- Form Actions -->
    <div class="flex flex-col sm:flex-row gap-3">
      <button type="submit" class="btn btn-primary">
        <span aria-hidden="true">ðŸª´</span> Add Plant
      </button>
      <a href="{{ url_for('plants.index') }}" class="btn btn-secondary">
        Cancel
      </a>
    </div>
  </form>
</div>
{% endblock %}
