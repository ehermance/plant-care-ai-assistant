{% extends "base.html" %}

{% block title %}{{ plant.name }} - Plant Care AI Assistant - PlantCareAI{% endblock %}
{% block description %}View details for {{ plant.name }}.{% endblock %}

{% block content %}
<!-- Page Header -->
<div class="mb-8">
  <h1 class="text-3xl sm:text-4xl font-bold text-slate-900 dark:text-slate-100 mb-2">
    {{ plant.name }}
    {% if plant.nickname %}
      <span class="text-2xl sm:text-3xl font-normal text-emerald-600 dark:text-emerald-400">"{{ plant.nickname }}"</span>
    {% endif %}
  </h1>
  {% if plant.species %}
    <p class="text-lg text-slate-600 dark:text-slate-400 italic">{{ plant.species }}</p>
  {% endif %}
</div>

<!-- Plant Detail Content -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
  <!-- Plant Photo (if exists) -->
  {% if plant.photo_url %}
    <div class="lg:col-span-1">
      <div class="card p-0 overflow-hidden">
        <img
          src="{{ plant.photo_url }}"
          alt="Photo of {{ plant.name }}"
          class="w-full h-auto object-cover"
        >
      </div>
    </div>
  {% endif %}

  <!-- Plant Information -->
  <div class="{% if plant.photo_url %}lg:col-span-2{% else %}lg:col-span-3{% endif %}">
    <div class="card">
      <h2 class="section-title">Plant Information</h2>

      <dl class="space-y-4">
        {% if plant.location %}
          <div class="flex items-start gap-3 pb-4 border-b border-slate-200 dark:border-slate-700">
            <dt class="text-2xl flex-shrink-0" aria-hidden="true">ğŸ“</dt>
            <div class="flex-1">
              <dt class="text-sm font-medium text-slate-700 dark:text-slate-300">Location</dt>
              <dd class="mt-1 text-base text-slate-900 dark:text-slate-100">{{ plant.location }}</dd>
            </div>
          </div>
        {% endif %}

        {% if plant.light %}
          <div class="flex items-start gap-3 pb-4 border-b border-slate-200 dark:border-slate-700">
            <dt class="text-2xl flex-shrink-0" aria-hidden="true">â˜€ï¸</dt>
            <div class="flex-1">
              <dt class="text-sm font-medium text-slate-700 dark:text-slate-300">Light</dt>
              <dd class="mt-1 text-base text-slate-900 dark:text-slate-100">{{ plant.light }}</dd>
            </div>
          </div>
        {% endif %}

        {% if plant.notes %}
          <div class="flex items-start gap-3 pb-4 border-b border-slate-200 dark:border-slate-700">
            <dt class="text-2xl flex-shrink-0" aria-hidden="true">ğŸ“</dt>
            <div class="flex-1">
              <dt class="text-sm font-medium text-slate-700 dark:text-slate-300">Notes</dt>
              <dd class="mt-1 text-base text-slate-900 dark:text-slate-100 whitespace-pre-wrap">{{ plant.notes }}</dd>
            </div>
          </div>
        {% endif %}

        <div class="flex items-start gap-3">
          <dt class="text-2xl flex-shrink-0" aria-hidden="true">ğŸ“…</dt>
          <div class="flex-1">
            <dt class="text-sm font-medium text-slate-700 dark:text-slate-300">Added</dt>
            <dd class="mt-1 text-base text-slate-900 dark:text-slate-100">
              {{ plant.created_at[:10] if plant.created_at else 'Unknown' }}
            </dd>
          </div>
        </div>
      </dl>
    </div>
  </div>
</div>

<!-- Action Buttons -->
<div class="flex flex-wrap gap-3">
  <a href="{{ url_for('plants.edit', plant_id=plant.id) }}" class="btn btn-primary">
    <span aria-hidden="true">âœï¸</span> Edit Plant
  </a>
  <a href="{{ url_for('plants.index') }}" class="btn btn-secondary">
    <span aria-hidden="true">â†</span> Back to Plants
  </a>

  <form
    method="POST"
    action="{{ url_for('plants.delete', plant_id=plant.id) }}"
    class="inline-block"
    onsubmit="return confirm('Are you sure you want to delete {{ plant.name }}? This cannot be undone.');"
  >
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <button type="submit" class="btn btn-danger">
      <span aria-hidden="true">ğŸ—‘ï¸</span> Delete Plant
    </button>
  </form>
</div>
{% endblock %}
