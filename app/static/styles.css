/*
Global styles and layout.

Defines the responsive grid, header/body spacing, form controls, recommended
buttons, cards, and a single shared loading overlay that covers both the form
and answer columns. Avoids inline styles for CSP and keeps UI accessible.
*/

/* Basic reset & typography */
* { box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  line-height: 1.45;
  color: #111;
  background: #fff;
}

.container { max-width: 1040px; margin: 0 auto; padding: 1.25rem; }

header.app-header { padding: 1rem 0 0.5rem 0; border-bottom: 1px solid #eee; }
header.app-header h1 { margin: 0 0 .5rem 0; font-size: clamp(1.25rem, 1.6rem, 2rem); font-weight: 700; }
header.app-header p { margin: 0 0 1rem 0; color: #555; }

/* Layout for main sections */
main { display: grid; grid-template-columns: 1fr; gap: 1rem; }

/* Two-column area for form/answer (becomes grid on wide screens) */
.grid-two { position: relative; display: grid; gap: 1.25rem; }
@media (min-width: 960px) {
  .grid-two { grid-template-columns: 1fr 1fr; align-items: start; }
}

.card { border: 1px solid #eee; border-radius: 12px; background: #fafafa; padding: 1rem; }

/* Preset buttons */
#presets { display: flex; flex-wrap: wrap; gap: .5rem; }
.preset-btn {
  border: 1px solid #cbe6e2;
  background: #e8f7f5;
  color: #0f766e;
  font-size: .9rem;
  padding: .35rem .6rem;
  border-radius: 999px;
  cursor: pointer;
}
.preset-btn:hover, .preset-btn:focus { outline: none; border-color: #9fd1ca; background: #dff2f0; }

/* Form styling */
.form-card { position: relative; }
.form-grid { display: grid; gap: .9rem; }
.form-row { display: grid; gap: .75rem; }
@media (min-width: 720px) { .form-row--two { grid-template-columns: 1fr 1fr; } }

label { display: block; font-weight: 600; margin-bottom: .25rem; }
input[type="text"], textarea, select {
  width: 100%; padding: .6rem; border: 1px solid #ccc; border-radius: 8px;
  background: #fff; color: inherit;
}
textarea { resize: vertical; min-height: 120px; }

.actions { display: flex; align-items: center; gap: .75rem; }
button.primary { padding: .7rem 1rem; border: 0; border-radius: 10px; cursor: pointer; background: #0f766e; color: #fff; }
button.primary:disabled { opacity: 0.7; cursor: default; }

a.muted-link { text-decoration: none; color: #0f766e; font-size: .95rem; }
.muted { color: #666; font-size: .95rem; }
.small { font-size: .9rem; }
.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
.section-title { margin: 0 0 .5rem 0; font-size: 1.1rem; font-weight: 700; }
.prewrap { white-space: pre-wrap; margin: 0; }

/* Shared loading overlay that spans both columns */
.combined-loading-overlay {
  position: absolute;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(255,255,255,0.65);
  backdrop-filter: blur(1px);
  border-radius: 12px;
  z-index: 2;
}

/* When submitting, show overlay and make the two cards non-interactive */
.grid-two.is-submitting .combined-loading-overlay { display: flex; }
.grid-two.is-submitting .card { pointer-events: none; opacity: 0.95; }

/* Also reduce pointer events on form controls during submit (values still submit) */
.grid-two.is-submitting .form-grid input,
.grid-two.is-submitting .form-grid select,
.grid-two.is-submitting .form-grid textarea,
.grid-two.is-submitting .form-grid button {
  pointer-events: none;
}

/* Focus ring for programmatic focus on the Answer region */
.answer-card:focus {
  outline: 2px solid #0f766e;
  outline-offset: 2px;
}

/* Simple spinner */
.spinner {
  width: 22px; height: 22px;
  border: 3px solid #c7ece7; border-top-color: #0f766e;
  border-radius: 50%;
  animation: spin 0.9s linear infinite;
  margin-right: .5rem;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* History */
.history-header { display: flex; justify-content: space-between; align-items: baseline; }
ul.history { list-style: none; padding: 0; margin: 0; display: grid; gap: .75rem; }
ul.history li { border: 1px solid #eee; border-radius: 10px; padding: .75rem; background: #fff; }
.history-q { margin-top: .35rem; }
.history-details { margin-top: .35rem; }
.history-answer { margin-top: .4rem; }

/* Footer */
.site-footer {
  margin-top: 2rem; padding: 1rem 0; font-size: 0.9rem; color: #666;
  border-top: 1px solid rgba(0,0,0,.08); text-align: center;
}
.site-footer a { color: inherit; text-decoration: underline; }
.site-footer a:hover { text-decoration: none; }
@media (prefers-color-scheme: dark) {
  .site-footer { color: #b9c0cf; border-top-color: rgba(255,255,255,.12); }
}
